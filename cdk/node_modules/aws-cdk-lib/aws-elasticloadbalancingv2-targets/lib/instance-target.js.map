{
  "version": 3,
  "sources": ["instance-target.ts"],
  "sourcesContent": ["import * as ec2 from '../../aws-ec2';\nimport * as elbv2 from '../../aws-elasticloadbalancingv2';\n\n/**\n * An EC2 instance that is the target for load balancing\n *\n * If you register a target of this type, you are responsible for making\n * sure the load balancer's security group can connect to the instance.\n */\nexport class InstanceIdTarget implements elbv2.IApplicationLoadBalancerTarget, elbv2.INetworkLoadBalancerTarget {\n  /**\n   * Create a new Instance target\n   *\n   * @param instanceId Instance ID of the instance to register to\n   * @param port Override the default port for the target group\n   */\n  constructor(private readonly instanceId: string, private readonly port?: number) {\n  }\n\n  /**\n   * Register this instance target with a load balancer\n   *\n   * Don't call this, it is called automatically when you add the target to a\n   * load balancer.\n   */\n  public attachToApplicationTargetGroup(targetGroup: elbv2.IApplicationTargetGroup): elbv2.LoadBalancerTargetProps {\n    return this.attach(targetGroup);\n  }\n\n  /**\n   * Register this instance target with a load balancer\n   *\n   * Don't call this, it is called automatically when you add the target to a\n   * load balancer.\n   */\n  public attachToNetworkTargetGroup(targetGroup: elbv2.INetworkTargetGroup): elbv2.LoadBalancerTargetProps {\n    return this.attach(targetGroup);\n  }\n\n  private attach(_targetGroup: elbv2.ITargetGroup): elbv2.LoadBalancerTargetProps {\n    return {\n      targetType: elbv2.TargetType.INSTANCE,\n      targetJson: { id: this.instanceId, port: this.port },\n    };\n  }\n}\n\nexport class InstanceTarget extends InstanceIdTarget {\n  /**\n   * Create a new Instance target\n   *\n   * @param instance Instance to register to\n   * @param port Override the default port for the target group\n   */\n  constructor(instance: ec2.Instance, port?: number) {\n    super(instance.instanceId, port);\n  }\n}\n"],
  "mappings": "iPACA,MAAA,QAAA,kCAAA,EAQA,MAAa,gBAAgB,CAO3B,YAA6B,WAAqC,KAAa,CAAlD,KAAA,WAAA,WAAqC,KAAA,KAAA,KAS3D,+BAA+B,YAA0C,4GACvE,KAAK,OAAO,WAAW,EASzB,2BAA2B,YAAsC,wGAC/D,KAAK,OAAO,WAAW,EAGxB,OAAO,aAAgC,CAC7C,MAAO,CACL,WAAY,MAAM,WAAW,SAC7B,WAAY,CAAE,GAAI,KAAK,WAAY,KAAM,KAAK,IAAI,IAjCxD,QAAA,iBAAA,qJAsCA,MAAa,sBAAuB,iBAAgB,CAOlD,YAAY,SAAwB,KAAa,CAC/C,MAAM,SAAS,WAAY,IAAI,kEARnC,QAAA,eAAA",
  "names": []
}
