{
  "version": 3,
  "sources": ["sns-dlq.ts"],
  "sourcesContent": ["import { DlqDestinationConfig, IEventSourceDlq, IEventSourceMapping, IFunction } from '../../aws-lambda';\nimport * as sns from '../../aws-sns';\n\n/**\n * An SNS dead letter queue destination configuration for a Lambda event source\n */\nexport class SnsDlq implements IEventSourceDlq {\n  constructor(private readonly topic: sns.ITopic) {\n  }\n\n  /**\n   * Returns a destination configuration for the DLQ\n   */\n  public bind(_target: IEventSourceMapping, targetHandler: IFunction): DlqDestinationConfig {\n    this.topic.grantPublish(targetHandler);\n\n    return {\n      destination: this.topic.topicArn,\n    };\n  }\n}\n"],
  "mappings": "6MAMA,MAAa,MAAM,CACjB,YAA6B,MAAiB,CAAjB,KAAA,MAAA,gEAMtB,KAAK,QAA8B,cAAwB,4JAChE,KAAK,MAAM,aAAa,aAAa,EAE9B,CACL,YAAa,KAAK,MAAM,WAX9B,QAAA,OAAA",
  "names": []
}
