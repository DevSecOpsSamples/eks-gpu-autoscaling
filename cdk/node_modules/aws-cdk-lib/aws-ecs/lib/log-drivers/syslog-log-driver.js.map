{
  "version": 3,
  "sources": ["syslog-log-driver.ts"],
  "sourcesContent": ["import { Construct } from 'constructs';\nimport { ContainerDefinition } from '../container-definition';\nimport { BaseLogDriverProps } from './base-log-driver';\nimport { LogDriver, LogDriverConfig } from './log-driver';\nimport { renderCommonLogDriverOptions, stringifyOptions } from './utils';\n\n/**\n * Specifies the syslog log driver configuration options.\n *\n * [Source](https://docs.docker.com/config/containers/logging/syslog/)\n */\nexport interface SyslogLogDriverProps extends BaseLogDriverProps {\n  /**\n   * The address of an external syslog server. The URI specifier may be\n   * [tcp|udp|tcp+tls]://host:port, unix://path, or unixgram://path.\n   *\n   * @default - If the transport is tcp, udp, or tcp+tls, the default port is 514.\n   */\n  readonly address?: string;\n\n  /**\n   * The syslog facility to use. Can be the number or name for any valid\n   * syslog facility. See the syslog documentation:\n   * https://tools.ietf.org/html/rfc5424#section-6.2.1.\n   *\n   * @default - facility not set\n   */\n  readonly facility?: string;\n\n  /**\n   * The absolute path to the trust certificates signed by the CA. Ignored\n   * if the address protocol is not tcp+tls.\n   *\n   * @default - tlsCaCert not set\n   */\n  readonly tlsCaCert?: string;\n\n  /**\n   * The absolute path to the TLS certificate file. Ignored if the address\n   * protocol is not tcp+tls.\n   *\n   * @default - tlsCert not set\n   */\n  readonly tlsCert?: string;\n\n  /**\n   * The absolute path to the TLS key file. Ignored if the address protocol\n   * is not tcp+tls.\n   *\n   * @default - tlsKey not set\n   */\n  readonly tlsKey?: string;\n\n  /**\n   * If set to true, TLS verification is skipped when connecting to the syslog\n   * daemon. Ignored if the address protocol is not tcp+tls.\n   *\n   * @default - false\n   */\n  readonly tlsSkipVerify?: boolean;\n\n  /**\n   * The syslog message format to use. If not specified the local UNIX syslog\n   * format is used, without a specified hostname. Specify rfc3164 for the RFC-3164\n   * compatible format, rfc5424 for RFC-5424 compatible format, or rfc5424micro\n   * for RFC-5424 compatible format with microsecond timestamp resolution.\n   *\n   * @default - format not set\n   */\n  readonly format?: string;\n}\n\n/**\n * A log driver that sends log information to syslog Logs.\n */\nexport class SyslogLogDriver extends LogDriver {\n  /**\n   * Constructs a new instance of the SyslogLogDriver class.\n   *\n   * @param props the syslog log driver configuration options.\n   */\n  constructor(private readonly props: SyslogLogDriverProps = {}) {\n    super();\n  }\n\n  /**\n   * Called when the log driver is configured on a container\n   */\n  public bind(_scope: Construct, _containerDefinition: ContainerDefinition): LogDriverConfig {\n    return {\n      logDriver: 'syslog',\n      options: stringifyOptions({\n        'syslog-address': this.props.address,\n        'syslog-facility': this.props.facility,\n        'syslog-tls-ca-cert': this.props.tlsCaCert,\n        'syslog-tls-cert': this.props.tlsCert,\n        'syslog-tls-key': this.props.tlsKey,\n        'syslog-tls-skip-verify': this.props.tlsSkipVerify,\n        'syslog-format': this.props.format,\n        ...renderCommonLogDriverOptions(this.props),\n      }),\n    };\n  }\n}\n"],
  "mappings": "yNAGA,aAAA,QAAA,cAAA,EACA,QAAA,QAAA,SAAA,EAuEA,MAAa,uBAAwB,cAAA,SAAS,CAM5C,YAA6B,MAA8B,CAAA,EAAE,CAC3D,MAAK,EADsB,KAAA,MAAA,8EAOtB,KAAK,OAAmB,qBAAyC,8FAC/D,CACL,UAAW,SACX,QAAS,QAAA,iBAAiB,CACxB,iBAAkB,KAAK,MAAM,QAC7B,kBAAmB,KAAK,MAAM,SAC9B,qBAAsB,KAAK,MAAM,UACjC,kBAAmB,KAAK,MAAM,QAC9B,iBAAkB,KAAK,MAAM,OAC7B,yBAA0B,KAAK,MAAM,cACrC,gBAAiB,KAAK,MAAM,UACzB,QAAA,6BAA6B,KAAK,KAAK,EAC3C,IAzBP,QAAA,gBAAA",
  "names": []
}
