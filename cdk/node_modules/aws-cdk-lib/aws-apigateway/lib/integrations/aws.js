"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AwsIntegration=void 0;const jsiiDeprecationWarnings=require("../../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),cdk=require("../../../core"),core_1=require("../../../core"),integration_1=require("../integration"),util_1=require("../util");class AwsIntegration extends integration_1.Integration{constructor(props){jsiiDeprecationWarnings.aws_cdk_lib_aws_apigateway_AwsIntegrationProps(props);const backend=props.subdomain?`${props.subdomain}.${props.service}`:props.service,type=props.proxy?integration_1.IntegrationType.AWS_PROXY:integration_1.IntegrationType.AWS,{apiType,apiValue}=util_1.parseAwsApiCall(props.path,props.action,props.actionParameters);super({type,integrationHttpMethod:props.integrationHttpMethod||"POST",uri:cdk.Lazy.string({produce:()=>{if(!this.scope)throw new Error("AwsIntegration must be used in API");return cdk.Stack.of(this.scope).formatArn({service:"apigateway",account:backend,resource:apiType,arnFormat:core_1.ArnFormat.SLASH_RESOURCE_NAME,resourceName:apiValue,region:props.region})}}),options:props.options})}bind(method){jsiiDeprecationWarnings.aws_cdk_lib_aws_apigateway_Method(method);const bindResult=super.bind(method);return this.scope=method,bindResult}}exports.AwsIntegration=AwsIntegration,_a=JSII_RTTI_SYMBOL_1,AwsIntegration[_a]={fqn:"aws-cdk-lib.aws_apigateway.AwsIntegration",version:"2.20.0"};
//# sourceMappingURL=aws.js.map
