{
  "version": 3,
  "sources": ["policy.ts"],
  "sourcesContent": ["import { PolicyDocument, PolicyStatement } from '../../aws-iam';\nimport { Resource, Lazy, Names } from '../../core';\nimport { Construct } from 'constructs';\nimport { CfnResourcePolicy } from './logs.generated';\n\n/**\n * Properties to define Cloudwatch log group resource policy\n */\nexport interface ResourcePolicyProps {\n  /**\n   * Name of the log group resource policy\n   * @default - Uses a unique id based on the construct path\n   */\n  readonly resourcePolicyName?: string;\n\n  /**\n   * Initial statements to add to the resource policy\n   *\n   * @default - No statements\n   */\n  readonly policyStatements?: PolicyStatement[];\n}\n\n/**\n * Resource Policy for CloudWatch Log Groups\n *\n * Policies define the operations that are allowed on this resource.\n *\n * You almost never need to define this construct directly.\n *\n * All AWS resources that support resource policies have a method called\n * `addToResourcePolicy()`, which will automatically create a new resource\n * policy if one doesn't exist yet, otherwise it will add to the existing\n * policy.\n *\n * Prefer to use `addToResourcePolicy()` instead.\n */\nexport class ResourcePolicy extends Resource {\n  /**\n   * The IAM policy document for this resource policy.\n   */\n  public readonly document = new PolicyDocument();\n\n  constructor(scope: Construct, id: string, props?: ResourcePolicyProps) {\n    super(scope, id, {\n      physicalName: props?.resourcePolicyName,\n    });\n\n    new CfnResourcePolicy(this, 'ResourcePolicy', {\n      policyName: Lazy.string({\n        produce: () => props?.resourcePolicyName ?? Names.uniqueId(this),\n      }),\n      policyDocument: Lazy.string({\n        produce: () => JSON.stringify(this.document),\n      }),\n    });\n\n    if (props?.policyStatements) {\n      this.document.addStatements(...props.policyStatements);\n    }\n  }\n}\n"],
  "mappings": "qNAAA,UAAA,QAAA,eAAA,EACA,OAAA,QAAA,YAAA,EAEA,iBAAA,QAAA,kBAAA,EAkCA,MAAa,sBAAuB,QAAA,QAAQ,CAM1C,YAAY,MAAkB,GAAY,MAA2B,CACnE,MAAM,MAAO,GAAI,CACf,aAAc,OAAK,KAAA,OAAL,MAAO,mBACtB,EALa,KAAA,SAAW,GAAI,WAAA,uFAO7B,GAAI,kBAAA,kBAAkB,KAAM,iBAAkB,CAC5C,WAAY,OAAA,KAAK,OAAO,CACtB,QAAS,IAAK,CAAA,GAAA,IAAA,MAAA,IAAC,OAAK,KAAA,OAAL,MAAO,sBAAkB,MAAA,KAAA,OAAA,GAAI,OAAA,MAAM,SAAS,IAAI,CAAC,EACjE,EACD,eAAgB,OAAA,KAAK,OAAO,CAC1B,QAAS,IAAM,KAAK,UAAU,KAAK,QAAQ,EAC5C,EACF,EAEG,OAAK,MAAL,MAAO,kBACT,KAAK,SAAS,cAAc,GAAG,MAAM,gBAAgB,GArB3D,QAAA,eAAA",
  "names": []
}
