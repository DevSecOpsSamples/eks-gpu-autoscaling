{
  "version": 3,
  "sources": ["util.ts"],
  "sourcesContent": ["import { Duration } from '../../../core';\n\nconst DEFAULT_TIMEOUT = Duration.minutes(30);\nconst DEFAULT_INTERVAL = Duration.seconds(5);\n\nexport function calculateRetryPolicy(props: { totalTimeout?: Duration, queryInterval?: Duration } = { }) {\n  const totalTimeout = props.totalTimeout || DEFAULT_TIMEOUT;\n  const interval = props.queryInterval || DEFAULT_INTERVAL;\n  const maxAttempts = totalTimeout.toSeconds() / interval.toSeconds();\n\n  if (Math.round(maxAttempts) !== maxAttempts) {\n    throw new Error(`Cannot determine retry count since totalTimeout=${totalTimeout.toSeconds()}s is not integrally dividable by queryInterval=${interval.toSeconds()}s`);\n  }\n\n  return {\n    maxAttempts,\n    interval,\n    backoffRate: 1,\n  };\n}\n"],
  "mappings": "wGAAA,KAAA,QAAA,QAAA,eAAA,EAEM,gBAAkB,OAAA,SAAS,QAAQ,EAAE,EACrC,iBAAmB,OAAA,SAAS,QAAQ,CAAC,EAE3C,8BAAqC,MAA+D,CAAA,EAAG,CACrG,KAAM,cAAe,MAAM,cAAgB,gBACrC,SAAW,MAAM,eAAiB,iBAClC,YAAc,aAAa,UAAS,EAAK,SAAS,UAAS,EAEjE,GAAI,KAAK,MAAM,WAAW,IAAM,YAC9B,KAAM,IAAI,OAAM,mDAAmD,aAAa,UAAS,mDAAoD,SAAS,UAAS,IAAK,EAGtK,MAAO,CACL,YACA,SACA,YAAa,EAEjB,CAdA,QAAA,qBAAA",
  "names": []
}
