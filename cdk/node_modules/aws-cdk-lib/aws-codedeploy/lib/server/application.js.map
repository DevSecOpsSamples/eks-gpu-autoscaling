{
  "version": 3,
  "sources": ["application.ts"],
  "sourcesContent": ["import { ArnFormat, IResource, Resource } from '../../../core';\nimport { Construct } from 'constructs';\nimport { CfnApplication } from '../codedeploy.generated';\nimport { arnForApplication, validateName } from '../utils';\n\n/**\n * Represents a reference to a CodeDeploy Application deploying to EC2/on-premise instances.\n *\n * If you're managing the Application alongside the rest of your CDK resources,\n * use the {@link ServerApplication} class.\n *\n * If you want to reference an already existing Application,\n * or one defined in a different CDK Stack,\n * use the {@link #fromServerApplicationName} method.\n */\nexport interface IServerApplication extends IResource {\n  /** @attribute */\n  readonly applicationArn: string;\n\n  /** @attribute */\n  readonly applicationName: string;\n}\n\n/**\n * Construction properties for {@link ServerApplication}.\n */\nexport interface ServerApplicationProps {\n  /**\n   * The physical, human-readable name of the CodeDeploy Application.\n   *\n   * @default an auto-generated name will be used\n   */\n  readonly applicationName?: string;\n}\n\n/**\n * A CodeDeploy Application that deploys to EC2/on-premise instances.\n *\n * @resource AWS::CodeDeploy::Application\n */\nexport class ServerApplication extends Resource implements IServerApplication {\n  /**\n   * Import an Application defined either outside the CDK app, or in a different region.\n   *\n   * @param scope the parent Construct for this new Construct\n   * @param id the logical ID of this new Construct\n   * @param serverApplicationName the name of the application to import\n   * @returns a Construct representing a reference to an existing Application\n   */\n  public static fromServerApplicationName(scope: Construct, id: string, serverApplicationName: string): IServerApplication {\n    class Import extends Resource implements IServerApplication {\n      public readonly applicationArn = arnForApplication(serverApplicationName);\n      public readonly applicationName = serverApplicationName;\n    }\n\n    return new Import(scope, id);\n\n  }\n\n  public readonly applicationArn: string;\n  public readonly applicationName: string;\n\n  constructor(scope: Construct, id: string, props: ServerApplicationProps = {}) {\n    super(scope, id, {\n      physicalName: props.applicationName,\n    });\n\n    const resource = new CfnApplication(this, 'Resource', {\n      applicationName: this.physicalName,\n      computePlatform: 'Server',\n    });\n\n    this.applicationName = this.getResourceNameAttribute(resource.ref);\n    this.applicationArn = this.getResourceArnAttribute(arnForApplication(resource.ref), {\n      service: 'codedeploy',\n      resource: 'application',\n      resourceName: this.physicalName,\n      arnFormat: ArnFormat.COLON_RESOURCE_NAME,\n    });\n\n    this.node.addValidation({ validate: () => validateName('Application', this.physicalName) });\n  }\n\n}\n"],
  "mappings": "2NAAA,OAAA,QAAA,eAAA,EAEA,uBAAA,QAAA,yBAAA,EACA,QAAA,QAAA,UAAA,EAqCA,MAAa,yBAA0B,QAAA,QAAQ,CAsB7C,YAAY,MAAkB,GAAY,MAAgC,CAAA,EAAE,CAC1E,MAAM,MAAO,GAAI,CACf,aAAc,MAAM,gBACrB,mFAED,KAAM,UAAW,GAAI,wBAAA,eAAe,KAAM,WAAY,CACpD,gBAAiB,KAAK,aACtB,gBAAiB,SAClB,EAED,KAAK,gBAAkB,KAAK,yBAAyB,SAAS,GAAG,EACjE,KAAK,eAAiB,KAAK,wBAAwB,QAAA,kBAAkB,SAAS,GAAG,EAAG,CAClF,QAAS,aACT,SAAU,cACV,aAAc,KAAK,aACnB,UAAW,OAAA,UAAU,oBACtB,EAED,KAAK,KAAK,cAAc,CAAE,SAAU,IAAM,QAAA,aAAa,cAAe,KAAK,YAAY,CAAC,CAAE,QA/B9E,2BAA0B,MAAkB,GAAY,sBAA6B,CACjG,MAAM,cAAe,QAAA,QAAQ,CAA7B,aAAA,qBACkB,KAAA,eAAiB,QAAA,kBAAkB,qBAAqB,EACxD,KAAA,gBAAkB,qBACpC,EAEA,MAAO,IAAI,QAAO,MAAO,EAAE,GAf/B,QAAA,kBAAA",
  "names": []
}
