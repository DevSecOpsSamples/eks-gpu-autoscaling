{
  "version": 3,
  "sources": ["deployment-group.ts"],
  "sourcesContent": ["import * as autoscaling from '../../../aws-autoscaling';\nimport * as cloudwatch from '../../../aws-cloudwatch';\nimport * as ec2 from '../../../aws-ec2';\nimport * as iam from '../../../aws-iam';\nimport * as s3 from '../../../aws-s3';\nimport * as cdk from '../../../core';\nimport { ArnFormat } from '../../../core';\nimport { Construct } from 'constructs';\nimport { CfnDeploymentGroup } from '../codedeploy.generated';\nimport { AutoRollbackConfig } from '../rollback-config';\nimport { arnForDeploymentGroup, renderAlarmConfiguration, renderAutoRollbackConfiguration, validateName } from '../utils';\nimport { IServerApplication, ServerApplication } from './application';\nimport { IServerDeploymentConfig, ServerDeploymentConfig } from './deployment-config';\nimport { LoadBalancer, LoadBalancerGeneration } from './load-balancer';\n\nexport interface IServerDeploymentGroup extends cdk.IResource {\n  readonly application: IServerApplication;\n  readonly role?: iam.IRole;\n  /**\n   * @attribute\n   */\n  readonly deploymentGroupName: string;\n\n  /**\n   * @attribute\n   */\n  readonly deploymentGroupArn: string;\n  readonly deploymentConfig: IServerDeploymentConfig;\n  readonly autoScalingGroups?: autoscaling.IAutoScalingGroup[];\n}\n\n/**\n * Properties of a reference to a CodeDeploy EC2/on-premise Deployment Group.\n *\n * @see ServerDeploymentGroup#import\n */\nexport interface ServerDeploymentGroupAttributes {\n  /**\n   * The reference to the CodeDeploy EC2/on-premise Application\n   * that this Deployment Group belongs to.\n   */\n  readonly application: IServerApplication;\n\n  /**\n   * The physical, human-readable name of the CodeDeploy EC2/on-premise Deployment Group\n   * that we are referencing.\n   */\n  readonly deploymentGroupName: string;\n\n  /**\n   * The Deployment Configuration this Deployment Group uses.\n   *\n   * @default ServerDeploymentConfig#OneAtATime\n   */\n  readonly deploymentConfig?: IServerDeploymentConfig;\n}\n\n/**\n * Represents a reference to a CodeDeploy EC2/on-premise Deployment Group.\n *\n * If you're managing the Deployment Group alongside the rest of your CDK resources,\n * use the {@link ServerDeploymentGroup} class.\n *\n * If you want to reference an already existing Deployment Group,\n * or one defined in a different CDK Stack,\n * use the {@link #import} method.\n */\nabstract class ServerDeploymentGroupBase extends cdk.Resource implements IServerDeploymentGroup {\n  public abstract readonly application: IServerApplication;\n  public abstract readonly role?: iam.IRole;\n  public abstract readonly deploymentGroupName: string;\n  public abstract readonly deploymentGroupArn: string;\n  public readonly deploymentConfig: IServerDeploymentConfig;\n  public abstract readonly autoScalingGroups?: autoscaling.IAutoScalingGroup[];\n\n  constructor(scope: Construct, id: string, deploymentConfig?: IServerDeploymentConfig, props?: cdk.ResourceProps) {\n    super(scope, id, props);\n    this.deploymentConfig = deploymentConfig || ServerDeploymentConfig.ONE_AT_A_TIME;\n  }\n}\n\nclass ImportedServerDeploymentGroup extends ServerDeploymentGroupBase {\n  public readonly application: IServerApplication;\n  public readonly role?: iam.Role = undefined;\n  public readonly deploymentGroupName: string;\n  public readonly deploymentGroupArn: string;\n  public readonly autoScalingGroups?: autoscaling.AutoScalingGroup[] = undefined;\n\n  constructor(scope: Construct, id: string, props: ServerDeploymentGroupAttributes) {\n    super(scope, id, props.deploymentConfig);\n\n    this.application = props.application;\n    this.deploymentGroupName = props.deploymentGroupName;\n    this.deploymentGroupArn = arnForDeploymentGroup(props.application.applicationName, props.deploymentGroupName);\n  }\n}\n\n/**\n * Represents a group of instance tags.\n * An instance will match a group if it has a tag matching\n * any of the group's tags by key and any of the provided values -\n * in other words, tag groups follow 'or' semantics.\n * If the value for a given key is an empty array,\n * an instance will match when it has a tag with the given key,\n * regardless of the value.\n * If the key is an empty string, any tag,\n * regardless of its key, with any of the given values, will match.\n */\nexport type InstanceTagGroup = {[key: string]: string[]};\n\n/**\n * Represents a set of instance tag groups.\n * An instance will match a set if it matches all of the groups in the set -\n * in other words, sets follow 'and' semantics.\n * You can have a maximum of 3 tag groups inside a set.\n */\nexport class InstanceTagSet {\n  private readonly _instanceTagGroups: InstanceTagGroup[];\n\n  constructor(...instanceTagGroups: InstanceTagGroup[]) {\n    if (instanceTagGroups.length > 3) {\n      throw new Error('An instance tag set can have a maximum of 3 instance tag groups, ' +\n        `but ${instanceTagGroups.length} were provided`);\n    }\n    this._instanceTagGroups = instanceTagGroups;\n  }\n\n  public get instanceTagGroups(): InstanceTagGroup[] {\n    return this._instanceTagGroups.slice();\n  }\n}\n\n/**\n * Construction properties for {@link ServerDeploymentGroup}.\n */\nexport interface ServerDeploymentGroupProps {\n  /**\n   * The CodeDeploy EC2/on-premise Application this Deployment Group belongs to.\n   *\n   * @default - A new Application will be created.\n   */\n  readonly application?: IServerApplication;\n\n  /**\n   * The service Role of this Deployment Group.\n   *\n   * @default - A new Role will be created.\n   */\n  readonly role?: iam.IRole;\n\n  /**\n   * The physical, human-readable name of the CodeDeploy Deployment Group.\n   *\n   * @default - An auto-generated name will be used.\n   */\n  readonly deploymentGroupName?: string;\n\n  /**\n   * The EC2/on-premise Deployment Configuration to use for this Deployment Group.\n   *\n   * @default ServerDeploymentConfig#OneAtATime\n   */\n  readonly deploymentConfig?: IServerDeploymentConfig;\n\n  /**\n   * The auto-scaling groups belonging to this Deployment Group.\n   *\n   * Auto-scaling groups can also be added after the Deployment Group is created\n   * using the {@link #addAutoScalingGroup} method.\n   *\n   * [disable-awslint:ref-via-interface] is needed because we update userdata\n   * for ASGs to install the codedeploy agent.\n   *\n   * @default []\n   */\n  readonly autoScalingGroups?: autoscaling.IAutoScalingGroup[];\n\n  /**\n   * If you've provided any auto-scaling groups with the {@link #autoScalingGroups} property,\n   * you can set this property to add User Data that installs the CodeDeploy agent on the instances.\n   *\n   * @default true\n   * @see https://docs.aws.amazon.com/codedeploy/latest/userguide/codedeploy-agent-operations-install.html\n   */\n  readonly installAgent?: boolean;\n\n  /**\n   * The load balancer to place in front of this Deployment Group.\n   * Can be created from either a classic Elastic Load Balancer,\n   * or an Application Load Balancer / Network Load Balancer Target Group.\n   *\n   * @default - Deployment Group will not have a load balancer defined.\n   */\n  readonly loadBalancer?: LoadBalancer;\n\n  /**\n   * All EC2 instances matching the given set of tags when a deployment occurs will be added to this Deployment Group.\n   *\n   * @default - No additional EC2 instances will be added to the Deployment Group.\n   */\n  readonly ec2InstanceTags?: InstanceTagSet;\n\n  /**\n   * All on-premise instances matching the given set of tags when a deployment occurs will be added to this Deployment Group.\n   *\n   * @default - No additional on-premise instances will be added to the Deployment Group.\n   */\n  readonly onPremiseInstanceTags?: InstanceTagSet;\n\n  /**\n   * The CloudWatch alarms associated with this Deployment Group.\n   * CodeDeploy will stop (and optionally roll back)\n   * a deployment if during it any of the alarms trigger.\n   *\n   * Alarms can also be added after the Deployment Group is created using the {@link #addAlarm} method.\n   *\n   * @default []\n   * @see https://docs.aws.amazon.com/codedeploy/latest/userguide/monitoring-create-alarms.html\n   */\n  readonly alarms?: cloudwatch.IAlarm[];\n\n  /**\n   * Whether to continue a deployment even if fetching the alarm status from CloudWatch failed.\n   *\n   * @default false\n   */\n  readonly ignorePollAlarmsFailure?: boolean;\n\n  /**\n   * The auto-rollback configuration for this Deployment Group.\n   *\n   * @default - default AutoRollbackConfig.\n   */\n  readonly autoRollback?: AutoRollbackConfig;\n}\n\n/**\n * A CodeDeploy Deployment Group that deploys to EC2/on-premise instances.\n * @resource AWS::CodeDeploy::DeploymentGroup\n */\nexport class ServerDeploymentGroup extends ServerDeploymentGroupBase {\n  /**\n   * Import an EC2/on-premise Deployment Group defined either outside the CDK app,\n   * or in a different region.\n   *\n   * @param scope the parent Construct for this new Construct\n   * @param id the logical ID of this new Construct\n   * @param attrs the properties of the referenced Deployment Group\n   * @returns a Construct representing a reference to an existing Deployment Group\n   */\n  public static fromServerDeploymentGroupAttributes(\n    scope: Construct,\n    id: string,\n    attrs: ServerDeploymentGroupAttributes): IServerDeploymentGroup {\n    return new ImportedServerDeploymentGroup(scope, id, attrs);\n  }\n\n  public readonly application: IServerApplication;\n  public readonly role?: iam.IRole;\n  public readonly deploymentGroupArn: string;\n  public readonly deploymentGroupName: string;\n\n  private readonly _autoScalingGroups: autoscaling.IAutoScalingGroup[];\n  private readonly installAgent: boolean;\n  private readonly codeDeployBucket: s3.IBucket;\n  private readonly alarms: cloudwatch.IAlarm[];\n\n  constructor(scope: Construct, id: string, props: ServerDeploymentGroupProps = {}) {\n    super(scope, id, props.deploymentConfig, {\n      physicalName: props.deploymentGroupName,\n    });\n\n    this.application = props.application || new ServerApplication(this, 'Application', {\n      applicationName: props.deploymentGroupName === cdk.PhysicalName.GENERATE_IF_NEEDED ? cdk.PhysicalName.GENERATE_IF_NEEDED : undefined,\n    });\n\n    this.role = props.role || new iam.Role(this, 'Role', {\n      assumedBy: new iam.ServicePrincipal('codedeploy.amazonaws.com'),\n      managedPolicies: [iam.ManagedPolicy.fromAwsManagedPolicyName('service-role/AWSCodeDeployRole')],\n    });\n\n    this._autoScalingGroups = props.autoScalingGroups || [];\n    this.installAgent = props.installAgent ?? true;\n    this.codeDeployBucket = s3.Bucket.fromBucketName(this, 'Bucket', `aws-codedeploy-${cdk.Stack.of(this).region}`);\n    for (const asg of this._autoScalingGroups) {\n      this.addCodeDeployAgentInstallUserData(asg);\n    }\n\n    this.alarms = props.alarms || [];\n\n    const resource = new CfnDeploymentGroup(this, 'Resource', {\n      applicationName: this.application.applicationName,\n      deploymentGroupName: this.physicalName,\n      serviceRoleArn: this.role.roleArn,\n      deploymentConfigName: props.deploymentConfig &&\n        props.deploymentConfig.deploymentConfigName,\n      autoScalingGroups: cdk.Lazy.list({ produce: () => this._autoScalingGroups.map(asg => asg.autoScalingGroupName) }, { omitEmpty: true }),\n      loadBalancerInfo: this.loadBalancerInfo(props.loadBalancer),\n      deploymentStyle: props.loadBalancer === undefined\n        ? undefined\n        : {\n          deploymentOption: 'WITH_TRAFFIC_CONTROL',\n        },\n      ec2TagSet: this.ec2TagSet(props.ec2InstanceTags),\n      onPremisesTagSet: this.onPremiseTagSet(props.onPremiseInstanceTags),\n      alarmConfiguration: cdk.Lazy.any({ produce: () => renderAlarmConfiguration(this.alarms, props.ignorePollAlarmsFailure) }),\n      autoRollbackConfiguration: cdk.Lazy.any({ produce: () => renderAutoRollbackConfiguration(this.alarms, props.autoRollback) }),\n    });\n\n    this.deploymentGroupName = this.getResourceNameAttribute(resource.ref);\n    this.deploymentGroupArn = this.getResourceArnAttribute(arnForDeploymentGroup(this.application.applicationName, resource.ref), {\n      service: 'codedeploy',\n      resource: 'deploymentgroup',\n      resourceName: `${this.application.applicationName}/${this.physicalName}`,\n      arnFormat: ArnFormat.COLON_RESOURCE_NAME,\n    });\n\n    this.node.addValidation({ validate: () => validateName('Deployment group', this.physicalName) });\n  }\n\n  /**\n   * Adds an additional auto-scaling group to this Deployment Group.\n   *\n   * @param asg the auto-scaling group to add to this Deployment Group.\n   * [disable-awslint:ref-via-interface] is needed in order to install the code\n   * deploy agent by updating the ASGs user data.\n   */\n  public addAutoScalingGroup(asg: autoscaling.AutoScalingGroup): void {\n    this._autoScalingGroups.push(asg);\n    this.addCodeDeployAgentInstallUserData(asg);\n  }\n\n  /**\n   * Associates an additional alarm with this Deployment Group.\n   *\n   * @param alarm the alarm to associate with this Deployment Group\n   */\n  public addAlarm(alarm: cloudwatch.IAlarm): void {\n    this.alarms.push(alarm);\n  }\n\n  public get autoScalingGroups(): autoscaling.IAutoScalingGroup[] | undefined {\n    return this._autoScalingGroups.slice();\n  }\n\n  private addCodeDeployAgentInstallUserData(asg: autoscaling.IAutoScalingGroup): void {\n    if (!this.installAgent) {\n      return;\n    }\n\n    this.codeDeployBucket.grantRead(asg, 'latest/*');\n\n    switch (asg.osType) {\n      case ec2.OperatingSystemType.LINUX:\n        asg.addUserData(\n          'set +e', // make sure we don't exit on the `which` failing\n          'PKG_CMD=`which yum 2>/dev/null`',\n          'set -e', // continue with failing on error\n          'if [ -z \"$PKG_CMD\" ]; then',\n          'PKG_CMD=apt-get',\n          'else',\n          'PKG_CMD=yum',\n          'fi',\n          '$PKG_CMD update -y',\n          'set +e', // make sure we don't exit on the next command failing (we check its exit code below)\n          '$PKG_CMD install -y ruby2.0',\n          'RUBY2_INSTALL=$?',\n          'set -e', // continue with failing on error\n          'if [ $RUBY2_INSTALL -ne 0 ]; then',\n          '$PKG_CMD install -y ruby',\n          'fi',\n          'AWS_CLI_PACKAGE_NAME=awscli',\n          'if [ \"$PKG_CMD\" = \"yum\" ]; then',\n          'AWS_CLI_PACKAGE_NAME=aws-cli',\n          'fi',\n          '$PKG_CMD install -y $AWS_CLI_PACKAGE_NAME',\n          'TMP_DIR=`mktemp -d`',\n          'cd $TMP_DIR',\n          `aws s3 cp s3://aws-codedeploy-${cdk.Stack.of(this).region}/latest/install . --region ${cdk.Stack.of(this).region}`,\n          'chmod +x ./install',\n          './install auto',\n          'rm -fr $TMP_DIR',\n        );\n        break;\n      case ec2.OperatingSystemType.WINDOWS:\n        asg.addUserData(\n          'Set-Variable -Name TEMPDIR -Value (New-TemporaryFile).DirectoryName',\n          `aws s3 cp s3://aws-codedeploy-${cdk.Stack.of(this).region}/latest/codedeploy-agent.msi $TEMPDIR\\\\codedeploy-agent.msi`,\n          'cd $TEMPDIR',\n          '.\\\\codedeploy-agent.msi /quiet /l c:\\\\temp\\\\host-agent-install-log.txt',\n        );\n        break;\n    }\n  }\n\n  private loadBalancerInfo(loadBalancer?: LoadBalancer):\n  CfnDeploymentGroup.LoadBalancerInfoProperty | undefined {\n    if (!loadBalancer) {\n      return undefined;\n    }\n\n    switch (loadBalancer.generation) {\n      case LoadBalancerGeneration.FIRST:\n        return {\n          elbInfoList: [\n            { name: loadBalancer.name },\n          ],\n        };\n      case LoadBalancerGeneration.SECOND:\n        return {\n          targetGroupInfoList: [\n            { name: loadBalancer.name },\n          ],\n        };\n    }\n  }\n\n  private ec2TagSet(tagSet?: InstanceTagSet):\n  CfnDeploymentGroup.EC2TagSetProperty | undefined {\n    if (!tagSet || tagSet.instanceTagGroups.length === 0) {\n      return undefined;\n    }\n\n    return {\n      ec2TagSetList: tagSet.instanceTagGroups.map(tagGroup => {\n        return {\n          ec2TagGroup: this.tagGroup2TagsArray(tagGroup) as\n            CfnDeploymentGroup.EC2TagFilterProperty[],\n        };\n      }),\n    };\n  }\n\n  private onPremiseTagSet(tagSet?: InstanceTagSet):\n  CfnDeploymentGroup.OnPremisesTagSetProperty | undefined {\n    if (!tagSet || tagSet.instanceTagGroups.length === 0) {\n      return undefined;\n    }\n\n    return {\n      onPremisesTagSetList: tagSet.instanceTagGroups.map(tagGroup => {\n        return {\n          onPremisesTagGroup: this.tagGroup2TagsArray(tagGroup),\n        };\n      }),\n    };\n  }\n\n  private tagGroup2TagsArray(tagGroup: InstanceTagGroup): CfnDeploymentGroup.TagFilterProperty[] {\n    const tagsInGroup = new Array<CfnDeploymentGroup.TagFilterProperty>();\n    for (const tagKey in tagGroup) {\n      if (tagGroup.hasOwnProperty(tagKey)) {\n        const tagValues = tagGroup[tagKey];\n        if (tagKey.length > 0) {\n          if (tagValues.length > 0) {\n            for (const tagValue of tagValues) {\n              tagsInGroup.push({\n                key: tagKey,\n                value: tagValue,\n                type: 'KEY_AND_VALUE',\n              });\n            }\n          } else {\n            tagsInGroup.push({\n              key: tagKey,\n              type: 'KEY_ONLY',\n            });\n          }\n        } else {\n          if (tagValues.length > 0) {\n            for (const tagValue of tagValues) {\n              tagsInGroup.push({\n                value: tagValue,\n                type: 'VALUE_ONLY',\n              });\n            }\n          } else {\n            throw new Error('Cannot specify both an empty key and no values for an instance tag filter');\n          }\n        }\n      }\n    }\n    return tagsInGroup;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
