"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const targets=require("../../aws-events-targets"),lambda=require("../../aws-lambda"),sns=require("../../aws-sns"),cdk=require("../../core"),config=require("../lib"),app=new cdk.App;class ConfigStack extends cdk.Stack{constructor(scope,id,props){super(scope,id,props);const fn=new lambda.Function(this,"CustomFunction",{code:lambda.AssetCode.fromInline("exports.handler = (event) => console.log(event);"),handler:"index.handler",runtime:lambda.Runtime.NODEJS_14_X});new config.CustomRule(this,"Custom",{configurationChanges:!0,lambdaFunction:fn,ruleScope:config.RuleScope.fromResources([config.ResourceType.EC2_INSTANCE])});const driftRule=new config.CloudFormationStackDriftDetectionCheck(this,"Drift"),complianceTopic=new sns.Topic(this,"ComplianceTopic");driftRule.onComplianceChange("ComplianceChange",{target:new targets.SnsTopic(complianceTopic)})}}new ConfigStack(app,"aws-cdk-config-rule-integ"),app.synth();
//# sourceMappingURL=integ.rule.lit.js.map
