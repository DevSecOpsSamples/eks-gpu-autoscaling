"use strict";var _a,_b,_c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoveTag=exports.Tags=exports.Tag=void 0;const jsiiDeprecationWarnings=require("../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),annotations_1=require("./annotations"),aspect_1=require("./aspect"),tag_manager_1=require("./tag-manager");class TagBase{constructor(key,props={}){this.key=key,this.props=props}visit(construct){tag_manager_1.TagManager.isTaggable(construct)&&this.applyTag(construct)}}class Tag extends TagBase{constructor(key,value,props={}){super(key,props);if(this.defaultPriority=100,jsiiDeprecationWarnings.aws_cdk_lib_TagProps(props),value===void 0)throw new Error("Tag must have a value");this.value=value}static add(scope,key,value,props={}){annotations_1.Annotations.of(scope).addDeprecation("@aws-cdk/core.Tag.add(scope,k,v)",'Use "Tags.of(scope).add(k,v)" instead'),Tags.of(scope).add(key,value,props)}static remove(scope,key,props={}){annotations_1.Annotations.of(scope).addDeprecation("@aws-cdk/core.Tag.remove(scope,k,v)",'Use "Tags.of(scope).remove(k,v)" instead'),Tags.of(scope).remove(key,props)}applyTag(resource){var _d;jsiiDeprecationWarnings.aws_cdk_lib_ITaggable(resource),resource.tags.applyTagAspectHere(this.props.includeResourceTypes,this.props.excludeResourceTypes)&&resource.tags.setTag(this.key,this.value,(_d=this.props.priority)!==null&&_d!==void 0?_d:this.defaultPriority,this.props.applyToLaunchedInstances!==!1)}}exports.Tag=Tag,_a=JSII_RTTI_SYMBOL_1,Tag[_a]={fqn:"aws-cdk-lib.Tag",version:"2.20.0"};class Tags{constructor(scope){this.scope=scope}static of(scope){return new Tags(scope)}add(key,value,props={}){jsiiDeprecationWarnings.aws_cdk_lib_TagProps(props),aspect_1.Aspects.of(this.scope).add(new Tag(key,value,props))}remove(key,props={}){jsiiDeprecationWarnings.aws_cdk_lib_TagProps(props),aspect_1.Aspects.of(this.scope).add(new RemoveTag(key,props))}}exports.Tags=Tags,_b=JSII_RTTI_SYMBOL_1,Tags[_b]={fqn:"aws-cdk-lib.Tags",version:"2.20.0"};class RemoveTag extends TagBase{constructor(key,props={}){super(key,props);this.defaultPriority=200,jsiiDeprecationWarnings.aws_cdk_lib_TagProps(props)}applyTag(resource){var _d;jsiiDeprecationWarnings.aws_cdk_lib_ITaggable(resource),resource.tags.applyTagAspectHere(this.props.includeResourceTypes,this.props.excludeResourceTypes)&&resource.tags.removeTag(this.key,(_d=this.props.priority)!==null&&_d!==void 0?_d:this.defaultPriority)}}exports.RemoveTag=RemoveTag,_c=JSII_RTTI_SYMBOL_1,RemoveTag[_c]={fqn:"aws-cdk-lib.RemoveTag",version:"2.20.0"};
//# sourceMappingURL=tag-aspect.js.map
