{
  "version": 3,
  "sources": ["package-installation.ts"],
  "sourcesContent": ["import { spawnSync } from 'child_process';\nimport { tryGetModuleVersionFromRequire } from './util';\n\n/**\n * Package installation\n */\nexport abstract class PackageInstallation {\n  public static detect(module: string): PackageInstallation | undefined {\n    try {\n      // Check local version first\n      const version = tryGetModuleVersionFromRequire(module);\n      if (version) {\n        return {\n          isLocal: true,\n          version,\n        };\n      }\n\n      // Fallback to a global version\n      const proc = spawnSync(module, ['--version']);\n      if (proc.status === 0 && !proc.error) {\n        return {\n          isLocal: false,\n          version: proc.stdout.toString().trim(),\n        };\n      }\n      return undefined;\n    } catch (err) {\n      return undefined;\n    }\n  }\n\n  public abstract readonly isLocal: boolean;\n  public abstract readonly version: string;\n}\n"],
  "mappings": "uGAAA,KAAA,iBAAA,QAAA,eAAA,EACA,OAAA,QAAA,QAAA,EAKA,MAAsB,mBAAmB,OACzB,QAAO,QAAc,CACjC,GAAI,CAEF,KAAM,SAAU,OAAA,+BAA+B,OAAM,EACrD,GAAI,QACF,MAAO,CACL,QAAS,GACT,SAKJ,KAAM,MAAO,gBAAA,UAAU,QAAQ,CAAC,WAAW,CAAC,EAC5C,MAAI,MAAK,SAAW,GAAK,CAAC,KAAK,MACtB,CACL,QAAS,GACT,QAAS,KAAK,OAAO,SAAQ,EAAG,KAAI,GAGxC,YACA,CACA,SAtBN,QAAA,oBAAA",
  "names": []
}
