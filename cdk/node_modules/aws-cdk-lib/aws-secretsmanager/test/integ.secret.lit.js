"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const iam=require("../../aws-iam"),cdk=require("../../core"),secretsmanager=require("../lib");class SecretsManagerStack extends cdk.Stack{constructor(scope,id){super(scope,id);const role=new iam.Role(this,"TestRole",{assumedBy:new iam.AccountRootPrincipal}),secret=new secretsmanager.Secret(this,"Secret");secret.grantRead(role);const user=new iam.User(this,"User",{password:secret.secretValue}),templatedSecret=new secretsmanager.Secret(this,"TemplatedSecret",{generateSecretString:{secretStringTemplate:JSON.stringify({username:"user"}),generateStringKey:"password"}});new iam.User(this,"OtherUser",{userName:templatedSecret.secretValueFromJson("username").toString(),password:templatedSecret.secretValueFromJson("password")});const accessKey=new iam.AccessKey(this,"AccessKey",{user});new secretsmanager.Secret(this,"PredefinedSecret",{secretStringBeta1:secretsmanager.SecretStringValueBeta1.fromToken(accessKey.secretAccessKey.toString())})}}const app=new cdk.App;new SecretsManagerStack(app,"Integ-SecretsManager-Secret"),app.synth();
//# sourceMappingURL=integ.secret.lit.js.map
