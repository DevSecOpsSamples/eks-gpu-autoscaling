{
  "version": 3,
  "sources": ["emr-set-cluster-termination-protection.ts"],
  "sourcesContent": ["import * as iam from '../../../aws-iam';\nimport * as sfn from '../../../aws-stepfunctions';\nimport { Stack } from '../../../core';\nimport { Construct } from 'constructs';\nimport { integrationResourceArn } from '../private/task-utils';\n\n/**\n * Properties for EmrSetClusterTerminationProtection\n *\n */\nexport interface EmrSetClusterTerminationProtectionProps extends sfn.TaskStateBaseProps {\n  /**\n   * The ClusterId to update.\n   */\n  readonly clusterId: string;\n\n  /**\n   * Termination protection indicator.\n   */\n  readonly terminationProtected: boolean;\n}\n\n/**\n * A Step Functions Task to to set Termination Protection on an EMR Cluster.\n *\n */\nexport class EmrSetClusterTerminationProtection extends sfn.TaskStateBase {\n\n  protected readonly taskPolicies?: iam.PolicyStatement[];\n  protected readonly taskMetrics?: sfn.TaskMetricsConfig;\n\n  constructor(scope: Construct, id: string, private readonly props: EmrSetClusterTerminationProtectionProps) {\n    super(scope, id, props);\n\n    this.taskPolicies = [\n      new iam.PolicyStatement({\n        actions: ['elasticmapreduce:SetTerminationProtection'],\n        resources: [\n          Stack.of(this).formatArn({\n            service: 'elasticmapreduce',\n            resource: 'cluster',\n            resourceName: '*',\n          }),\n        ],\n      }),\n    ];\n  }\n\n  /**\n   * @internal\n   */\n  protected _renderTask(): any {\n    return {\n      Resource: integrationResourceArn('elasticmapreduce', 'setClusterTerminationProtection',\n        sfn.IntegrationPattern.REQUEST_RESPONSE),\n      Parameters: sfn.FieldUtils.renderObject({\n        ClusterId: this.props.clusterId,\n        TerminationProtected: this.props.terminationProtected,\n      }),\n    };\n  }\n}"],
  "mappings": "4OAAA,IAAA,QAAA,kBAAA,EACA,IAAA,QAAA,4BAAA,EACA,OAAA,QAAA,eAAA,EAEA,aAAA,QAAA,uBAAA,EAsBA,MAAa,0CAA2C,KAAI,aAAa,CAKvE,YAAY,MAAkB,GAA6B,MAA8C,CACvG,MAAM,MAAO,GAAI,KAAK,EADmC,KAAA,MAAA,iHAGzD,KAAK,aAAe,CAClB,GAAI,KAAI,gBAAgB,CACtB,QAAS,CAAC,2CAA2C,EACrD,UAAW,CACT,OAAA,MAAM,GAAG,IAAI,EAAE,UAAU,CACvB,QAAS,mBACT,SAAU,UACV,aAAc,IACf,GAEJ,GAOK,aAAW,CACnB,MAAO,CACL,SAAU,aAAA,uBAAuB,mBAAoB,kCACnD,IAAI,mBAAmB,gBAAgB,EACzC,WAAY,IAAI,WAAW,aAAa,CACtC,UAAW,KAAK,MAAM,UACtB,qBAAsB,KAAK,MAAM,qBAClC,IAhCP,QAAA,mCAAA",
  "names": []
}
