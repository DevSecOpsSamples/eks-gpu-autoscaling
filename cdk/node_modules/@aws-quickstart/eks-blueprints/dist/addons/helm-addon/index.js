"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HelmAddOn = void 0;
const utils_1 = require("../../utils");
const kubectl_provider_1 = require("./kubectl-provider");
class HelmAddOn {
    constructor(props) {
        this.props = (0, utils_1.cloneDeep)(props); // avoids polution when reusing the same props across stacks, such as values
    }
    addHelmChart(clusterInfo, values, createNamespace, wait, timeout) {
        const kubectlProvider = new kubectl_provider_1.KubectlProvider(clusterInfo);
        values = values !== null && values !== void 0 ? values : {};
        const chart = { ...this.props, ...{ values, wait, timeout, createNamespace } };
        return kubectlProvider.addHelmChart(chart);
    }
}
exports.HelmAddOn = HelmAddOn;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvYWRkb25zL2hlbG0tYWRkb24vaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBR0EsdUNBQXdDO0FBQ3hDLHlEQUE2RTtBQUs3RSxNQUFzQixTQUFTO0lBSTNCLFlBQVksS0FBcUI7UUFDN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFBLGlCQUFTLEVBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyw0RUFBNEU7SUFDL0csQ0FBQztJQUlTLFlBQVksQ0FBQyxXQUE0QixFQUFFLE1BQW1CLEVBQUUsZUFBeUIsRUFBRSxJQUFjLEVBQUUsT0FBa0I7UUFDbkksTUFBTSxlQUFlLEdBQUcsSUFBSSxrQ0FBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sR0FBRyxNQUFNLGFBQU4sTUFBTSxjQUFOLE1BQU0sR0FBSSxFQUFFLENBQUM7UUFDdEIsTUFBTSxLQUFLLEdBQUcsRUFBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBQyxFQUFFLENBQUM7UUFDN0UsT0FBTyxlQUFlLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9DLENBQUM7Q0FDSjtBQWhCRCw4QkFnQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEdXJhdGlvbiB9IGZyb20gXCJhd3MtY2RrLWxpYlwiO1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSBcImNvbnN0cnVjdHNcIjtcbmltcG9ydCAqIGFzIHNwaSBmcm9tIFwiLi4vLi5cIjtcbmltcG9ydCB7IGNsb25lRGVlcCB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xuaW1wb3J0IHsgSGVsbUNoYXJ0Q29uZmlndXJhdGlvbiwgS3ViZWN0bFByb3ZpZGVyIH0gZnJvbSBcIi4va3ViZWN0bC1wcm92aWRlclwiO1xuXG5leHBvcnQgdHlwZSBIZWxtQWRkT25Qcm9wcyA9IEhlbG1DaGFydENvbmZpZ3VyYXRpb247XG5leHBvcnQgdHlwZSBIZWxtQWRkT25Vc2VyUHJvcHMgPSBQYXJ0aWFsPEhlbG1DaGFydENvbmZpZ3VyYXRpb24+O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSGVsbUFkZE9uIGltcGxlbWVudHMgc3BpLkNsdXN0ZXJBZGRPbiB7XG5cbiAgICBwcm9wczogSGVsbUFkZE9uUHJvcHM7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSGVsbUFkZE9uUHJvcHMpIHtcbiAgICAgICAgdGhpcy5wcm9wcyA9IGNsb25lRGVlcChwcm9wcyk7IC8vIGF2b2lkcyBwb2x1dGlvbiB3aGVuIHJldXNpbmcgdGhlIHNhbWUgcHJvcHMgYWNyb3NzIHN0YWNrcywgc3VjaCBhcyB2YWx1ZXNcbiAgICB9XG4gICAgXG4gICAgYWJzdHJhY3QgZGVwbG95KGNsdXN0ZXJJbmZvOiBzcGkuQ2x1c3RlckluZm8pOiB2b2lkIHwgUHJvbWlzZTxDb25zdHJ1Y3Q+O1xuXG4gICAgcHJvdGVjdGVkIGFkZEhlbG1DaGFydChjbHVzdGVySW5mbzogc3BpLkNsdXN0ZXJJbmZvLCB2YWx1ZXM/OiBzcGkuVmFsdWVzLCBjcmVhdGVOYW1lc3BhY2U/OiBib29sZWFuLCB3YWl0PzogYm9vbGVhbiwgdGltZW91dD86IER1cmF0aW9uICkgOiBDb25zdHJ1Y3Qge1xuICAgICAgICBjb25zdCBrdWJlY3RsUHJvdmlkZXIgPSBuZXcgS3ViZWN0bFByb3ZpZGVyKGNsdXN0ZXJJbmZvKTtcbiAgICAgICAgdmFsdWVzID0gdmFsdWVzID8/IHt9O1xuICAgICAgICBjb25zdCBjaGFydCA9IHsuLi50aGlzLnByb3BzLCAuLi57IHZhbHVlcywgd2FpdCwgdGltZW91dCwgY3JlYXRlTmFtZXNwYWNlfSB9O1xuICAgICAgICByZXR1cm4ga3ViZWN0bFByb3ZpZGVyLmFkZEhlbG1DaGFydChjaGFydCk7XG4gICAgfVxufSJdfQ==